{{extend 'layout.html'}}

<!--
<div class="post_listing center">

    {{logged_in = auth.user_id is not None}}

    <div class="page-header clearfix">
        <h2 class="pull-left">{{=course_name}}: Project List</h2>
        {{if logged_in:}}
            <a href="{{=URL('default', 'edit_project', args=[course_id])}}" class="btn btn-info pull-right pull-right">
                <i class="fa fa-plus"></i> Post Project
            </a>
            <a href="{{=URL('default', 'members', args=[course_id])}}" class="btn btn-info pull-right pull-right">
                <i class="fa fa-users"></i> View Course Members
            </a>
        {{else:}}
            <a href="{{=URL('default', 'user', args=['login'])}}" class="btn btn-warning pull-right">
                    Log in <i class="fa fa-sign-in"></i>
            </a>
        {{pass}}
    </div>
-->

<div class='page-header'>

  <h1>{{=course_name}}: Project List</h1>

    <a href="{{=URL('default', 'edit_project', args=[course_id])}}" class="btn btn-info">
        <i class="fa fa-plus"></i> Post Project
    </a>
    <a href="{{=URL('default', 'members', args=[course_id])}}" class="btn btn-info">
        <i class="fa fa-users"></i> View Course Members
    </a>
</div>

<div class"container">
<div class="row flex">
  {{if projects:}}
      {{for p in projects:}}
        <div class="col-md-3">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h2 class="panel-title"><a href="{{=URL('default', 'project', args=[course_id,p.id])}}">{{=p.project_name}}</a></h2>
            </div>
            <div class="panel-body">
              {{=p.project_info}}
            </div>
            <a href="{{=URL('default', 'project', args=[course_id,p.id])}}">
            <div class="panel-footer"><button class="btn btn-default btn-block">View Project</button></div>
            </a>
          </div>
        </div><!-- /.col-sm-4 -->
      {{pass}}
    {{pass}}
      </div>
    </div>

<!--
<div class="row">
  {{if projects:}}
      {{for p in projects:}}
  <div class="col-sm-6 col-md-4">
    <div class="thumbnail">
      <img src="..." alt="...">
      <div class="caption">
        <h3>{{=p.project_name}}</h3>
        <p>{{=p.project_info}}</p>
        <p><a href="{{=URL('default', 'edit_project', args=[course_id,p.id])}}" class="btn btn-primary" role="button">Edit</a> <a href="{{=URL('default', 'project', args=[course_id,p.id])}}" class="btn btn-default" role="button">View Project</a></p>
      </div>
    </div>
  </div>
</div>
{{pass}}
{{pass}}
-->


<!--
    <div class="text-left">
    {{if projects:}}
        {{for p in projects:}}
            {{own_p = auth.user_id and p.user_email == auth.user.email}}
            <div class="panel {{='panel-info' if own_p else 'panel-primary'}}">
                <div class="panel-heading clearfix">
                    <h2 class="panel-title pull-left">
                        {{=get_user_name_from_email(p.user_email)}}
                        <small>{{=p.user_email}}</small>
                    </h2>
                    <a href="{{=URL('default', 'project', args=[course_id,p.id])}}" class="btn btn-primary btn-sm pull-right">
                        View Project <i class="fa fa-folder-open"></i>
                    </a>
                    {{if own_p:}}
                        <a href="{{=URL('default', 'edit_project', args=[course_id,p.id])}}" class="btn btn-primary btn-sm pull-right">
                            Edit <i class="fa fa-pencil-square-o"></i>
                        </a>
                    {{pass}}
                </div>
                <div class="panel-body">
                    <p>Project Name: {{=p.project_name}}</p>
                    <p>Project Info: {{=p.project_info}} </p>
                    Current Members:
                        <ul>
                            {{for i in p.current_members:}}
                                <li>{{=i}}</li>
                            {{pass}}
                        </ul>
                    Needed Skills:
                        <ul>
                        {{for i in p.needed_skills:}}
                            <li>{{=i}}</li>
                        {{pass}}
                        </ul>
                    {{if p.accepting_members:}}
                        <p>Accepting Members: Yes</p>
                    {{else:}}
                        <p>Accepting Members: No</p>
                    {{pass}}

                </div>
                <div class="panel-footer clearfix">
                    <div class="pull-left">
                    <span class="label label-success">Created {{=p.created_on}}</span>
                    {{if p.created_on != p.updated_on:}}
                         <span class="label label-warning">Last edited {{=p.updated_on}}</span>
                    {{pass}}
                    </div>
                    <span class="badge pull-right">#{{=p.id}}</span>
                </div>
            </div>
        {{pass}}
    {{else:}}
        <div class="alert alert-warning" role="alert">
            There aren't any projects yet! {{='Create one with the button above.' if logged_in else 'Log in to create one.'}}
        </div>
    {{pass}}
    </div>
-->
